CREATE PROCEDURE GC_IS_RIGO_MANODOPERA_CON_DETT (IN_TIPODOC VARCHAR(25), IN_NUMDOC INTEGER, IN_REGDOC VARCHAR(5), IN_DATADOC TIMESTAMP, IN_NUMRIGO INTEGER)
  RETURNS (OUTVAR CHAR(1))
AS
  DECLARE C CURSOR FOR (SELECT COUNT(*) FROM RAPGIORNRIGHI WHERE TIPODOC=:IN_TIPODOC AND NUMDOC=:IN_NUMDOC AND REGISTRO=:IN_REGDOC AND DATADOC=:IN_DATADOC AND NUMRIGO=:IN_NUMRIGO);
  DECLARE VARIABLE loc_quanti INTEGER;
BEGIN

  OPEN C;
  FETCH C INTO :loc_quanti;
  CLOSE C;

  IF (:loc_quanti = 0) THEN BEGIN
    OUTVAR='F';
    SUSPEND;
    EXIT;
  END

  OUTVAR='T';
  SUSPEND;
  EXIT;

END