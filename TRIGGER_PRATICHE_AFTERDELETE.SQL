CREATE TRIGGER PRATICHE_AFTERDELETE FOR PRATICHE
ACTIVE AFTER DELETE POSITION 0
AS
BEGIN

  DELETE FROM GC_COSTOMEDIO A WHERE
    A.PRATICA = OLD.CODICE
    AND A.DATAPRATICA = OLD.DATAAPERTURA;

  DELETE FROM SOTTOCANTIERI1 A WHERE
    A.TIPOCANTIERE = OLD.TIPO
    AND A.CODICECANTIERE = OLD.CODICE
    AND A.DATAAPERTURACANTIERE = OLD.DATAAPERTURA;

  DELETE FROM SOTTOCANTIERI2 A WHERE
    A.TIPOCANTIERE = OLD.TIPO
    AND A.CODICECANTIERE = OLD.CODICE
    AND A.DATAAPERTURACANTIERE = OLD.DATAAPERTURA;

  DELETE FROM SOTTOCANTIERI3 A WHERE
    A.TIPOCANTIERE = OLD.TIPO
    AND A.CODICECANTIERE = OLD.CODICE
    AND A.DATAAPERTURACANTIERE = OLD.DATAAPERTURA;

  DELETE FROM PRATAPPARECCHI A WHERE
    A.IDPRATICA = OLD.ID;

  DELETE FROM OPPRATICA A WHERE
    A.IDPRATICA = OLD.ID;

END
