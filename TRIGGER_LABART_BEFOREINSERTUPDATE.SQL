CREATE TRIGGER LABART_BEFOREINSERTUPDATE FOR LABART
ACTIVE BEFORE INSERT OR UPDATE
AS
  DECLARE LAST_ID INTEGER;
BEGIN
 
  SELECT COALESCE(MAX(LA2.ID), 0)
  FROM LABART LA2 
  WHERE LA2.CODICESTAZIONE = NEW.CODICESTAZIONE  
  INTO :LAST_ID;

  NEW.ID = LAST_ID + 1;

END
