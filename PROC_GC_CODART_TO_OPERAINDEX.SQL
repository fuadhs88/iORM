CREATE PROCEDURE GC_CODART_TO_OPERAINDEX (IN_COD_ART VARCHAR(25))
  RETURNS (OUTVAR INTEGER)
AS
  DECLARE C CURSOR FOR (SELECT FIRST 1 CODICEOPERA, CODICEOPERA_2, CODICEOPERA_3, CODICEOPERA_4, CODICEOPERA_5 FROM PROGRESS);
  DECLARE VARIABLE loc_CodiceOpera1 VARCHAR(25);
  DECLARE VARIABLE loc_CodiceOpera2 VARCHAR(25);
  DECLARE VARIABLE loc_CodiceOpera3 VARCHAR(25);
  DECLARE VARIABLE loc_CodiceOpera4 VARCHAR(25);
  DECLARE VARIABLE loc_CodiceOpera5 VARCHAR(25);
BEGIN

  IF (:IN_COD_ART IS NULL) THEN BEGIN
    OUTVAR=0;
    SUSPEND;
    EXIT;
  END

  OPEN C;
  FETCH C INTO :loc_CodiceOpera1, :loc_CodiceOpera2, :loc_CodiceOpera3, :loc_CodiceOpera4, :loc_CodiceOpera5;
  CLOSE C;

  IF (:IN_COD_ART = :loc_CodiceOpera1) THEN BEGIN
    OUTVAR=0;
    SUSPEND;
    EXIT;
  END

  IF (:IN_COD_ART = :loc_CodiceOpera2) THEN BEGIN
    OUTVAR=1;
    SUSPEND;
    EXIT;
  END

  IF (:IN_COD_ART = :loc_CodiceOpera3) THEN BEGIN
    OUTVAR=2;
    SUSPEND;
    EXIT;
  END

  IF (:IN_COD_ART = :loc_CodiceOpera4) THEN BEGIN
    OUTVAR=3;
    SUSPEND;
    EXIT;
  END

  IF (:IN_COD_ART = :loc_CodiceOpera5) THEN BEGIN
    OUTVAR=4;
    SUSPEND;
    EXIT;
  END

  OUTVAR=0;
  SUSPEND;
  EXIT;

END