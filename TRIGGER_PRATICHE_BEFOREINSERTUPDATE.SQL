CREATE TRIGGER PRATICHE_BEFOREINSERTUPDATE FOR PRATICHE
ACTIVE BEFORE INSERT OR UPDATE
AS
BEGIN


  /* Copia sulla rag.soc. il cognome+nome se si tratta di una persona fisica */
  IF (COALESCE(NEW.NATURAGIURIDICARESPIMP,'') = 'F'
    AND (   TRIM(COALESCE(NEW.COGNOMERESPIMP,'')) <> ''   OR   TRIM(COALESCE(NEW.NOMERESPIMP,'')) <> ''   )   )
  THEN NEW.RAGSOCRESPIMP = SUBSTRING(TRIM(   TRIM(COALESCE(NEW.COGNOMERESPIMP,'')) || ' ' || TRIM(COALESCE(NEW.NOMERESPIMP,''))   ) FROM 1 FOR 60); 

END
