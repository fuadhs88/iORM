CREATE TRIGGER CLIENTI_AFTERUPDATE FOR CLIENTI
INACTIVE AFTER UPDATE POSITION 0
AS
BEGIN

 IF (NEW.CODICE <> OLD.CODICE) THEN
 BEGIN

  UPDATE ALLEGATI A SET A.CODSOGG = NEW.CODICE
  WHERE A.CODSOGG = OLD.CODICE;

  UPDATE CONFORM A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE CONTATTI A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE DIBATESTATE A SET A.CODICECLIENTE = NEW.CODICE
  WHERE A.CODICECLIENTE = OLD.CODICE;

  UPDATE DIBARIGHI A SET A.CODICECLIENTE = NEW.CODICE
  WHERE A.CODICECLIENTE = OLD.CODICE;

  UPDATE EXTFILE A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE FAX A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE IMPEGNI A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE LISTFORN A SET A.CODICEFORNITORE = NEW.CODICE
  WHERE A.CODICEFORNITORE = OLD.CODICE;

  UPDATE PRATICHE A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE PRIMANOT A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE PRVORDCL A SET A.CODICECLIENTE = NEW.CODICE
  WHERE A.CODICECLIENTE = OLD.CODICE;

  UPDATE RIGHIPRV A SET A.CODICECLIENTE = NEW.CODICE
  WHERE A.CODICECLIENTE = OLD.CODICE;

  UPDATE RAPGIORN A SET A.CODICECLIENTE = NEW.CODICE
  WHERE A.CODICECLIENTE = OLD.CODICE;

  UPDATE RAPGIORNRIGHI A SET A.CODSOGGETTO = NEW.CODICE
  WHERE A.CODSOGGETTO = OLD.CODICE;

  UPDATE RAPGIORNRIGHISPESE A SET A.CODSOGGETTO = NEW.CODICE
  WHERE A.CODSOGGETTO = OLD.CODICE;

  UPDATE SCADENZ A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE TESTI A SET A.CLIENTE = NEW.CODICE
  WHERE A.CLIENTE = OLD.CODICE;

  UPDATE CONDVEND A SET A.CODICESOGGETTO = NEW.CODICE
  WHERE A.CODICESOGGETTO = OLD.CODICE;

  UPDATE SUBSOGG A SET A.CODICESOGGETTO = NEW.CODICE
  WHERE A.CODICESOGGETTO = OLD.CODICE;

 END

END
