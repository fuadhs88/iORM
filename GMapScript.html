<!-- saved from url=(0022)http://internet.e-mail -->
<!DOCTYPE html>
<html>
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------ -->
<head>
	<title>Levante's Routs</title>

	<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<!-- ---------------------------------------------------------------------------------------------------------------------------------------------- -->
	<style type="text/css">
		html
		{
			height:100%;
		}
		body
		{
			padding:0px;
			margin:0px;
			height:100%;
			font-family:Century Gothic;
		}
	</style>
	<!-- ---------------------------------------------------------------------------------------------------------------------------------------------- -->
	<!-- <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&v=3.2"></script> -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDSQcu8koJezC-9B3iPr8Ps3E3d4YnJPRg&language=it-IT"></script>
	<!-- ---------------------------------------------------------------------------------------------------------------------------------------------- -->
	<script type="text/javascript">
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		var map;
		var directionDisplay;
		var directionsService = new google.maps.DirectionsService();
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		var route_from = "";
		var route_to = "";
		var way_points = new Array();
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function initialize()
		{
			directionsDisplay = new google.maps.DirectionsRenderer();

			var start_ll = new google.maps.LatLng(43.988525, 12.664804);
			var myOptions = {zoom: 12, mapTypeId: google.maps.MapTypeId.ROADMAP, center: start_ll};

			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

			directionsDisplay.setMap(map);

			// Only Maury's Example Code. _____________________________________________________________________________________________________________
			// SetOrigin("Viale Napoli, 24 Riccione");
			// SetDestination("Via Carlo Seganti, 103 Forl√¨, 1");

			// WaypointAdd("Via Toscana, 14 Riccione", true);
			// WaypointAdd("Via Cesare, 73 Riccione", false);
			// WaypointAdd("Via Flaminia, 409 Rimini", true);

			// WaypointsAdd(new Array(new Array("Via Circonvallazione Nuova, 22 Rimini", false), new Array("Viale Roma, 1 Rimini", true)));

			// ShowRoute();
			// ________________________________________________________________________________________________________________________________________
		}
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function SetOrigin(address)
		{
			route_from = address;
		}
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function SetDestination(address)
		{
			route_to = address;
		}
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function WaypointAdd(waypoint, stop_over)
		{
			way_points.push({location: waypoint, stopover: stop_over});
		}
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function WaypointsAdd(waypoint_collection)
		{
			var i=0;
			while(i<waypoint_collection.length){way_points.push({location: waypoint_collection[i][0], stopover: waypoint_collection[i][1]}); i++;}
		}
		<!-- -------------------------------------------------------------------------------------------------------------------------------------- -->
		function ShowRoute()
		{
			var request =
			{
				origin: route_from,
				destination: route_to,
				waypoints: way_points,
				optimizeWaypoints: true,
				travelMode: google.maps.DirectionsTravelMode.DRIVING
			};

			directionsService.route
			(
				request,

				function(response, status)
				{
					if(status==google.maps.DirectionsStatus.OK)
					{
						directionsDisplay.setDirections(response);

						var route = response.routes[0];
						var summaryPanel = document.getElementById("directions_panel");

						var t_d = 0;
						var t_t = 0;

						summaryPanel.innerHTML = "";

						for(var i=0; i<route.legs.length; i++)
						{
							summaryPanel.innerHTML +=
							' <div style="border:0px solid red; position:relative; padding:1%;"> ' +
							'	<b> ' + (i+1) + ') Segmento itinerario.</b><br> ' +
							'	<b>Da: </b> ' + route.legs[i].start_address + ' <br> ' +
							'	<b>A: </b> ' + route.legs[i].end_address + ' <br> ' +
							'	<b>Distanza: </b> ' + route.legs[i].distance.text + ' <br> ' +
							'	<b>Tempo: </b> ' + route.legs[i].duration.text + ' <br> ' +
							' </div> ' +
							' <hr> ';

							t_d += route.legs[i].distance.value
							t_t += route.legs[i].duration.value
						}

						t_d = parseFloat(t_d/1000);
						t_t = parseFloat(t_t/3600).toString();
						t_t = t_t.substring(0, t_t.indexOf('.')+3).replace('.',':');

						summaryPanel.innerHTML +=
						' <div style="position:relative; padding:1%;"> ' +
						'	<b>Lunghezza itinerario: </b> ' + t_d + ' Kilometri<br> ' +
						'	<b>Tempo Itinerario: </b> ' + t_t + ' Ore<br><hr> ' +
						' </div> ';
					}
				}
			);
		}
	</script>
	<!-- ---------------------------------------------------------------------------------------------------------------------------------------------- -->
</head>
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------ -->
<body onload="initialize();">
	<div id="directions_panel" style="position:relative; display:none; float:right; width:25%; height:100%; overflow:auto; background-color:#FFEEAA;"></div>
	<div id="map_canvas" style="position:relative; height:100%;"></div>
	<div style="border:1px solid #FFF; position:absolute; left:80px; bottom:5px;">
		<input id="chk_sd" type="checkbox" style="cursor:pointer;" onClick="document.getElementById('directions_panel').style.display=this.checked?'block':'none';">
		<span style="">Itinerario<span>
	</div>
</body>
<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------ -->
</html>